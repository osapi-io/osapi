// Package gen provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package gen

import (
	"context"
	"encoding/json"
	"fmt"
	"net/http"

	"github.com/labstack/echo/v4"
	"github.com/oapi-codegen/runtime"
	strictecho "github.com/oapi-codegen/runtime/strictmiddleware/echo"
	openapi_types "github.com/oapi-codegen/runtime/types"
	externalRef0 "github.com/retr0h/osapi/internal/api/common/gen"
)

const (
	BearerAuthScopes = "BearerAuth.Scopes"
)

// Defines values for GetJobParamsStatus.
const (
	Completed      GetJobParamsStatus = "completed"
	Failed         GetJobParamsStatus = "failed"
	PartialFailure GetJobParamsStatus = "partial_failure"
	Processing     GetJobParamsStatus = "processing"
	Submitted      GetJobParamsStatus = "submitted"
)

// CreateJobRequest defines model for CreateJobRequest.
type CreateJobRequest struct {
	// Operation The operation to perform, as a JSON object.
	Operation map[string]interface{} `json:"operation" validate:"required"`

	// TargetHostname The target hostname for routing (_any, _all, or specific hostname).
	TargetHostname string `json:"target_hostname" validate:"required,min=1"`
}

// CreateJobResponse defines model for CreateJobResponse.
type CreateJobResponse struct {
	// JobId Unique identifier for the created job.
	JobId openapi_types.UUID `json:"job_id"`

	// Revision The KV revision number.
	Revision *int64 `json:"revision,omitempty"`

	// Status Initial status of the job.
	Status string `json:"status"`

	// Timestamp Creation timestamp.
	Timestamp *string `json:"timestamp,omitempty"`
}

// ErrorResponse defines model for ErrorResponse.
type ErrorResponse = externalRef0.ErrorResponse

// JobDetailResponse defines model for JobDetailResponse.
type JobDetailResponse struct {
	// Created Creation timestamp.
	Created *string `json:"created,omitempty"`

	// Error Error message if failed.
	Error *string `json:"error,omitempty"`

	// Hostname Worker hostname that processed the job.
	Hostname *string `json:"hostname,omitempty"`

	// Id Unique identifier of the job.
	Id *openapi_types.UUID `json:"id,omitempty"`

	// Operation The operation data.
	Operation *map[string]interface{} `json:"operation,omitempty"`

	// Responses Per-worker response data for broadcast jobs.
	Responses *map[string]struct {
		// Data Worker result data.
		Data     interface{} `json:"data,omitempty"`
		Error    *string     `json:"error,omitempty"`
		Hostname *string     `json:"hostname,omitempty"`
		Status   *string     `json:"status,omitempty"`
	} `json:"responses,omitempty"`

	// Result The result data if completed.
	Result interface{} `json:"result,omitempty"`

	// Status Current status of the job.
	Status *string `json:"status,omitempty"`

	// Timeline Chronological sequence of job lifecycle events.
	Timeline *[]struct {
		// Error Error details if applicable.
		Error *string `json:"error,omitempty"`

		// Event Event type (submitted, acknowledged, started, completed, failed, retried).
		Event *string `json:"event,omitempty"`

		// Hostname Worker or source that generated the event.
		Hostname *string `json:"hostname,omitempty"`

		// Message Human-readable description of the event.
		Message *string `json:"message,omitempty"`

		// Timestamp ISO 8601 timestamp of the event.
		Timestamp *string `json:"timestamp,omitempty"`
	} `json:"timeline,omitempty"`

	// UpdatedAt Last update timestamp.
	UpdatedAt *string `json:"updated_at,omitempty"`

	// WorkerStates Per-worker processing state for broadcast jobs.
	WorkerStates *map[string]struct {
		Duration *string `json:"duration,omitempty"`
		Error    *string `json:"error,omitempty"`
		Status   *string `json:"status,omitempty"`
	} `json:"worker_states,omitempty"`
}

// ListJobsResponse defines model for ListJobsResponse.
type ListJobsResponse struct {
	Items *[]JobDetailResponse `json:"items,omitempty"`

	// TotalItems Total number of jobs matching the filter.
	TotalItems *int `json:"total_items,omitempty"`
}

// ListWorkersResponse defines model for ListWorkersResponse.
type ListWorkersResponse struct {
	// Total Total number of active workers.
	Total   int          `json:"total"`
	Workers []WorkerInfo `json:"workers"`
}

// QueueStatsResponse defines model for QueueStatsResponse.
type QueueStatsResponse struct {
	// DlqCount Number of jobs in the dead letter queue.
	DlqCount *int `json:"dlq_count,omitempty"`

	// OperationCounts Count of jobs by operation type.
	OperationCounts *map[string]int `json:"operation_counts,omitempty"`

	// StatusCounts Count of jobs by status.
	StatusCounts *map[string]int `json:"status_counts,omitempty"`

	// TotalJobs Total number of jobs in the queue.
	TotalJobs *int `json:"total_jobs,omitempty"`
}

// RetryJobRequest defines model for RetryJobRequest.
type RetryJobRequest struct {
	// TargetHostname Override target hostname for the retried job. Defaults to _any if not specified.
	TargetHostname *string `json:"target_hostname,omitempty" validate:"omitempty,min=1"`
}

// WorkerInfo defines model for WorkerInfo.
type WorkerInfo struct {
	// Hostname The hostname of the worker.
	Hostname string `json:"hostname"`
}

// GetJobParams defines parameters for GetJob.
type GetJobParams struct {
	// Status Filter jobs by status.
	Status *GetJobParamsStatus `form:"status,omitempty" json:"status,omitempty"`

	// Limit Maximum number of jobs to return. Use 0 for no limit.
	Limit *int `form:"limit,omitempty" json:"limit,omitempty"`

	// Offset Number of jobs to skip for pagination.
	Offset *int `form:"offset,omitempty" json:"offset,omitempty"`
}

// GetJobParamsStatus defines parameters for GetJob.
type GetJobParamsStatus string

// PostJobJSONRequestBody defines body for PostJob for application/json ContentType.
type PostJobJSONRequestBody = CreateJobRequest

// RetryJobByIDJSONRequestBody defines body for RetryJobByID for application/json ContentType.
type RetryJobByIDJSONRequestBody = RetryJobRequest

// ServerInterface represents all server handlers.
type ServerInterface interface {
	// List jobs
	// (GET /job)
	GetJob(ctx echo.Context, params GetJobParams) error
	// Create a new job
	// (POST /job)
	PostJob(ctx echo.Context) error
	// Get queue statistics
	// (GET /job/status)
	GetJobStatus(ctx echo.Context) error
	// List active workers
	// (GET /job/workers)
	GetJobWorkers(ctx echo.Context) error
	// Delete a job
	// (DELETE /job/{id})
	DeleteJobByID(ctx echo.Context, id openapi_types.UUID) error
	// Get job detail
	// (GET /job/{id})
	GetJobByID(ctx echo.Context, id openapi_types.UUID) error
	// Retry a job
	// (POST /job/{id}/retry)
	RetryJobByID(ctx echo.Context, id openapi_types.UUID) error
}

// ServerInterfaceWrapper converts echo contexts to parameters.
type ServerInterfaceWrapper struct {
	Handler ServerInterface
}

// GetJob converts echo context to params.
func (w *ServerInterfaceWrapper) GetJob(ctx echo.Context) error {
	var err error

	ctx.Set(BearerAuthScopes, []string{"read"})

	// Parameter object where we will unmarshal all parameters from the context
	var params GetJobParams
	// ------------- Optional query parameter "status" -------------

	err = runtime.BindQueryParameter("form", true, false, "status", ctx.QueryParams(), &params.Status)
	if err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, fmt.Sprintf("Invalid format for parameter status: %s", err))
	}

	// ------------- Optional query parameter "limit" -------------

	err = runtime.BindQueryParameter("form", true, false, "limit", ctx.QueryParams(), &params.Limit)
	if err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, fmt.Sprintf("Invalid format for parameter limit: %s", err))
	}

	// ------------- Optional query parameter "offset" -------------

	err = runtime.BindQueryParameter("form", true, false, "offset", ctx.QueryParams(), &params.Offset)
	if err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, fmt.Sprintf("Invalid format for parameter offset: %s", err))
	}

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetJob(ctx, params)
	return err
}

// PostJob converts echo context to params.
func (w *ServerInterfaceWrapper) PostJob(ctx echo.Context) error {
	var err error

	ctx.Set(BearerAuthScopes, []string{"write"})

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.PostJob(ctx)
	return err
}

// GetJobStatus converts echo context to params.
func (w *ServerInterfaceWrapper) GetJobStatus(ctx echo.Context) error {
	var err error

	ctx.Set(BearerAuthScopes, []string{"read"})

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetJobStatus(ctx)
	return err
}

// GetJobWorkers converts echo context to params.
func (w *ServerInterfaceWrapper) GetJobWorkers(ctx echo.Context) error {
	var err error

	ctx.Set(BearerAuthScopes, []string{"read"})

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetJobWorkers(ctx)
	return err
}

// DeleteJobByID converts echo context to params.
func (w *ServerInterfaceWrapper) DeleteJobByID(ctx echo.Context) error {
	var err error
	// ------------- Path parameter "id" -------------
	var id openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "id", ctx.Param("id"), &id, runtime.BindStyledParameterOptions{ParamLocation: runtime.ParamLocationPath, Explode: false, Required: true})
	if err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, fmt.Sprintf("Invalid format for parameter id: %s", err))
	}

	ctx.Set(BearerAuthScopes, []string{"write"})

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.DeleteJobByID(ctx, id)
	return err
}

// GetJobByID converts echo context to params.
func (w *ServerInterfaceWrapper) GetJobByID(ctx echo.Context) error {
	var err error
	// ------------- Path parameter "id" -------------
	var id openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "id", ctx.Param("id"), &id, runtime.BindStyledParameterOptions{ParamLocation: runtime.ParamLocationPath, Explode: false, Required: true})
	if err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, fmt.Sprintf("Invalid format for parameter id: %s", err))
	}

	ctx.Set(BearerAuthScopes, []string{"read"})

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.GetJobByID(ctx, id)
	return err
}

// RetryJobByID converts echo context to params.
func (w *ServerInterfaceWrapper) RetryJobByID(ctx echo.Context) error {
	var err error
	// ------------- Path parameter "id" -------------
	var id openapi_types.UUID

	err = runtime.BindStyledParameterWithOptions("simple", "id", ctx.Param("id"), &id, runtime.BindStyledParameterOptions{ParamLocation: runtime.ParamLocationPath, Explode: false, Required: true})
	if err != nil {
		return echo.NewHTTPError(http.StatusBadRequest, fmt.Sprintf("Invalid format for parameter id: %s", err))
	}

	ctx.Set(BearerAuthScopes, []string{"write"})

	// Invoke the callback with all the unmarshaled arguments
	err = w.Handler.RetryJobByID(ctx, id)
	return err
}

// This is a simple interface which specifies echo.Route addition functions which
// are present on both echo.Echo and echo.Group, since we want to allow using
// either of them for path registration
type EchoRouter interface {
	CONNECT(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	DELETE(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	GET(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	HEAD(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	OPTIONS(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	PATCH(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	POST(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	PUT(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
	TRACE(path string, h echo.HandlerFunc, m ...echo.MiddlewareFunc) *echo.Route
}

// RegisterHandlers adds each server route to the EchoRouter.
func RegisterHandlers(router EchoRouter, si ServerInterface) {
	RegisterHandlersWithBaseURL(router, si, "")
}

// Registers handlers, and prepends BaseURL to the paths, so that the paths
// can be served under a prefix.
func RegisterHandlersWithBaseURL(router EchoRouter, si ServerInterface, baseURL string) {

	wrapper := ServerInterfaceWrapper{
		Handler: si,
	}

	router.GET(baseURL+"/job", wrapper.GetJob)
	router.POST(baseURL+"/job", wrapper.PostJob)
	router.GET(baseURL+"/job/status", wrapper.GetJobStatus)
	router.GET(baseURL+"/job/workers", wrapper.GetJobWorkers)
	router.DELETE(baseURL+"/job/:id", wrapper.DeleteJobByID)
	router.GET(baseURL+"/job/:id", wrapper.GetJobByID)
	router.POST(baseURL+"/job/:id/retry", wrapper.RetryJobByID)

}

type GetJobRequestObject struct {
	Params GetJobParams
}

type GetJobResponseObject interface {
	VisitGetJobResponse(w http.ResponseWriter) error
}

type GetJob200JSONResponse ListJobsResponse

func (response GetJob200JSONResponse) VisitGetJobResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(200)

	return json.NewEncoder(w).Encode(response)
}

type GetJob400JSONResponse externalRef0.ErrorResponse

func (response GetJob400JSONResponse) VisitGetJobResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(400)

	return json.NewEncoder(w).Encode(response)
}

type GetJob401JSONResponse externalRef0.ErrorResponse

func (response GetJob401JSONResponse) VisitGetJobResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(401)

	return json.NewEncoder(w).Encode(response)
}

type GetJob403JSONResponse externalRef0.ErrorResponse

func (response GetJob403JSONResponse) VisitGetJobResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(403)

	return json.NewEncoder(w).Encode(response)
}

type GetJob500JSONResponse externalRef0.ErrorResponse

func (response GetJob500JSONResponse) VisitGetJobResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(500)

	return json.NewEncoder(w).Encode(response)
}

type PostJobRequestObject struct {
	Body *PostJobJSONRequestBody
}

type PostJobResponseObject interface {
	VisitPostJobResponse(w http.ResponseWriter) error
}

type PostJob201JSONResponse CreateJobResponse

func (response PostJob201JSONResponse) VisitPostJobResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(201)

	return json.NewEncoder(w).Encode(response)
}

type PostJob400JSONResponse externalRef0.ErrorResponse

func (response PostJob400JSONResponse) VisitPostJobResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(400)

	return json.NewEncoder(w).Encode(response)
}

type PostJob401JSONResponse externalRef0.ErrorResponse

func (response PostJob401JSONResponse) VisitPostJobResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(401)

	return json.NewEncoder(w).Encode(response)
}

type PostJob403JSONResponse externalRef0.ErrorResponse

func (response PostJob403JSONResponse) VisitPostJobResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(403)

	return json.NewEncoder(w).Encode(response)
}

type PostJob500JSONResponse externalRef0.ErrorResponse

func (response PostJob500JSONResponse) VisitPostJobResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(500)

	return json.NewEncoder(w).Encode(response)
}

type GetJobStatusRequestObject struct {
}

type GetJobStatusResponseObject interface {
	VisitGetJobStatusResponse(w http.ResponseWriter) error
}

type GetJobStatus200JSONResponse QueueStatsResponse

func (response GetJobStatus200JSONResponse) VisitGetJobStatusResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(200)

	return json.NewEncoder(w).Encode(response)
}

type GetJobStatus401JSONResponse externalRef0.ErrorResponse

func (response GetJobStatus401JSONResponse) VisitGetJobStatusResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(401)

	return json.NewEncoder(w).Encode(response)
}

type GetJobStatus403JSONResponse externalRef0.ErrorResponse

func (response GetJobStatus403JSONResponse) VisitGetJobStatusResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(403)

	return json.NewEncoder(w).Encode(response)
}

type GetJobStatus500JSONResponse externalRef0.ErrorResponse

func (response GetJobStatus500JSONResponse) VisitGetJobStatusResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(500)

	return json.NewEncoder(w).Encode(response)
}

type GetJobWorkersRequestObject struct {
}

type GetJobWorkersResponseObject interface {
	VisitGetJobWorkersResponse(w http.ResponseWriter) error
}

type GetJobWorkers200JSONResponse ListWorkersResponse

func (response GetJobWorkers200JSONResponse) VisitGetJobWorkersResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(200)

	return json.NewEncoder(w).Encode(response)
}

type GetJobWorkers401JSONResponse externalRef0.ErrorResponse

func (response GetJobWorkers401JSONResponse) VisitGetJobWorkersResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(401)

	return json.NewEncoder(w).Encode(response)
}

type GetJobWorkers403JSONResponse externalRef0.ErrorResponse

func (response GetJobWorkers403JSONResponse) VisitGetJobWorkersResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(403)

	return json.NewEncoder(w).Encode(response)
}

type GetJobWorkers500JSONResponse externalRef0.ErrorResponse

func (response GetJobWorkers500JSONResponse) VisitGetJobWorkersResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(500)

	return json.NewEncoder(w).Encode(response)
}

type DeleteJobByIDRequestObject struct {
	Id openapi_types.UUID `json:"id"`
}

type DeleteJobByIDResponseObject interface {
	VisitDeleteJobByIDResponse(w http.ResponseWriter) error
}

type DeleteJobByID204Response struct {
}

func (response DeleteJobByID204Response) VisitDeleteJobByIDResponse(w http.ResponseWriter) error {
	w.WriteHeader(204)
	return nil
}

type DeleteJobByID400JSONResponse externalRef0.ErrorResponse

func (response DeleteJobByID400JSONResponse) VisitDeleteJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(400)

	return json.NewEncoder(w).Encode(response)
}

type DeleteJobByID401JSONResponse externalRef0.ErrorResponse

func (response DeleteJobByID401JSONResponse) VisitDeleteJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(401)

	return json.NewEncoder(w).Encode(response)
}

type DeleteJobByID403JSONResponse externalRef0.ErrorResponse

func (response DeleteJobByID403JSONResponse) VisitDeleteJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(403)

	return json.NewEncoder(w).Encode(response)
}

type DeleteJobByID404JSONResponse externalRef0.ErrorResponse

func (response DeleteJobByID404JSONResponse) VisitDeleteJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(404)

	return json.NewEncoder(w).Encode(response)
}

type DeleteJobByID500JSONResponse externalRef0.ErrorResponse

func (response DeleteJobByID500JSONResponse) VisitDeleteJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(500)

	return json.NewEncoder(w).Encode(response)
}

type GetJobByIDRequestObject struct {
	Id openapi_types.UUID `json:"id"`
}

type GetJobByIDResponseObject interface {
	VisitGetJobByIDResponse(w http.ResponseWriter) error
}

type GetJobByID200JSONResponse JobDetailResponse

func (response GetJobByID200JSONResponse) VisitGetJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(200)

	return json.NewEncoder(w).Encode(response)
}

type GetJobByID400JSONResponse externalRef0.ErrorResponse

func (response GetJobByID400JSONResponse) VisitGetJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(400)

	return json.NewEncoder(w).Encode(response)
}

type GetJobByID401JSONResponse externalRef0.ErrorResponse

func (response GetJobByID401JSONResponse) VisitGetJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(401)

	return json.NewEncoder(w).Encode(response)
}

type GetJobByID403JSONResponse externalRef0.ErrorResponse

func (response GetJobByID403JSONResponse) VisitGetJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(403)

	return json.NewEncoder(w).Encode(response)
}

type GetJobByID404JSONResponse externalRef0.ErrorResponse

func (response GetJobByID404JSONResponse) VisitGetJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(404)

	return json.NewEncoder(w).Encode(response)
}

type GetJobByID500JSONResponse externalRef0.ErrorResponse

func (response GetJobByID500JSONResponse) VisitGetJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(500)

	return json.NewEncoder(w).Encode(response)
}

type RetryJobByIDRequestObject struct {
	Id   openapi_types.UUID `json:"id"`
	Body *RetryJobByIDJSONRequestBody
}

type RetryJobByIDResponseObject interface {
	VisitRetryJobByIDResponse(w http.ResponseWriter) error
}

type RetryJobByID201JSONResponse CreateJobResponse

func (response RetryJobByID201JSONResponse) VisitRetryJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(201)

	return json.NewEncoder(w).Encode(response)
}

type RetryJobByID400JSONResponse externalRef0.ErrorResponse

func (response RetryJobByID400JSONResponse) VisitRetryJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(400)

	return json.NewEncoder(w).Encode(response)
}

type RetryJobByID401JSONResponse externalRef0.ErrorResponse

func (response RetryJobByID401JSONResponse) VisitRetryJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(401)

	return json.NewEncoder(w).Encode(response)
}

type RetryJobByID403JSONResponse externalRef0.ErrorResponse

func (response RetryJobByID403JSONResponse) VisitRetryJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(403)

	return json.NewEncoder(w).Encode(response)
}

type RetryJobByID404JSONResponse externalRef0.ErrorResponse

func (response RetryJobByID404JSONResponse) VisitRetryJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(404)

	return json.NewEncoder(w).Encode(response)
}

type RetryJobByID500JSONResponse externalRef0.ErrorResponse

func (response RetryJobByID500JSONResponse) VisitRetryJobByIDResponse(w http.ResponseWriter) error {
	w.Header().Set("Content-Type", "application/json")
	w.WriteHeader(500)

	return json.NewEncoder(w).Encode(response)
}

// StrictServerInterface represents all server handlers.
type StrictServerInterface interface {
	// List jobs
	// (GET /job)
	GetJob(ctx context.Context, request GetJobRequestObject) (GetJobResponseObject, error)
	// Create a new job
	// (POST /job)
	PostJob(ctx context.Context, request PostJobRequestObject) (PostJobResponseObject, error)
	// Get queue statistics
	// (GET /job/status)
	GetJobStatus(ctx context.Context, request GetJobStatusRequestObject) (GetJobStatusResponseObject, error)
	// List active workers
	// (GET /job/workers)
	GetJobWorkers(ctx context.Context, request GetJobWorkersRequestObject) (GetJobWorkersResponseObject, error)
	// Delete a job
	// (DELETE /job/{id})
	DeleteJobByID(ctx context.Context, request DeleteJobByIDRequestObject) (DeleteJobByIDResponseObject, error)
	// Get job detail
	// (GET /job/{id})
	GetJobByID(ctx context.Context, request GetJobByIDRequestObject) (GetJobByIDResponseObject, error)
	// Retry a job
	// (POST /job/{id}/retry)
	RetryJobByID(ctx context.Context, request RetryJobByIDRequestObject) (RetryJobByIDResponseObject, error)
}

type StrictHandlerFunc = strictecho.StrictEchoHandlerFunc
type StrictMiddlewareFunc = strictecho.StrictEchoMiddlewareFunc

func NewStrictHandler(ssi StrictServerInterface, middlewares []StrictMiddlewareFunc) ServerInterface {
	return &strictHandler{ssi: ssi, middlewares: middlewares}
}

type strictHandler struct {
	ssi         StrictServerInterface
	middlewares []StrictMiddlewareFunc
}

// GetJob operation middleware
func (sh *strictHandler) GetJob(ctx echo.Context, params GetJobParams) error {
	var request GetJobRequestObject

	request.Params = params

	handler := func(ctx echo.Context, request interface{}) (interface{}, error) {
		return sh.ssi.GetJob(ctx.Request().Context(), request.(GetJobRequestObject))
	}
	for _, middleware := range sh.middlewares {
		handler = middleware(handler, "GetJob")
	}

	response, err := handler(ctx, request)

	if err != nil {
		return err
	} else if validResponse, ok := response.(GetJobResponseObject); ok {
		return validResponse.VisitGetJobResponse(ctx.Response())
	} else if response != nil {
		return fmt.Errorf("unexpected response type: %T", response)
	}
	return nil
}

// PostJob operation middleware
func (sh *strictHandler) PostJob(ctx echo.Context) error {
	var request PostJobRequestObject

	var body PostJobJSONRequestBody
	if err := ctx.Bind(&body); err != nil {
		return err
	}
	request.Body = &body

	handler := func(ctx echo.Context, request interface{}) (interface{}, error) {
		return sh.ssi.PostJob(ctx.Request().Context(), request.(PostJobRequestObject))
	}
	for _, middleware := range sh.middlewares {
		handler = middleware(handler, "PostJob")
	}

	response, err := handler(ctx, request)

	if err != nil {
		return err
	} else if validResponse, ok := response.(PostJobResponseObject); ok {
		return validResponse.VisitPostJobResponse(ctx.Response())
	} else if response != nil {
		return fmt.Errorf("unexpected response type: %T", response)
	}
	return nil
}

// GetJobStatus operation middleware
func (sh *strictHandler) GetJobStatus(ctx echo.Context) error {
	var request GetJobStatusRequestObject

	handler := func(ctx echo.Context, request interface{}) (interface{}, error) {
		return sh.ssi.GetJobStatus(ctx.Request().Context(), request.(GetJobStatusRequestObject))
	}
	for _, middleware := range sh.middlewares {
		handler = middleware(handler, "GetJobStatus")
	}

	response, err := handler(ctx, request)

	if err != nil {
		return err
	} else if validResponse, ok := response.(GetJobStatusResponseObject); ok {
		return validResponse.VisitGetJobStatusResponse(ctx.Response())
	} else if response != nil {
		return fmt.Errorf("unexpected response type: %T", response)
	}
	return nil
}

// GetJobWorkers operation middleware
func (sh *strictHandler) GetJobWorkers(ctx echo.Context) error {
	var request GetJobWorkersRequestObject

	handler := func(ctx echo.Context, request interface{}) (interface{}, error) {
		return sh.ssi.GetJobWorkers(ctx.Request().Context(), request.(GetJobWorkersRequestObject))
	}
	for _, middleware := range sh.middlewares {
		handler = middleware(handler, "GetJobWorkers")
	}

	response, err := handler(ctx, request)

	if err != nil {
		return err
	} else if validResponse, ok := response.(GetJobWorkersResponseObject); ok {
		return validResponse.VisitGetJobWorkersResponse(ctx.Response())
	} else if response != nil {
		return fmt.Errorf("unexpected response type: %T", response)
	}
	return nil
}

// DeleteJobByID operation middleware
func (sh *strictHandler) DeleteJobByID(ctx echo.Context, id openapi_types.UUID) error {
	var request DeleteJobByIDRequestObject

	request.Id = id

	handler := func(ctx echo.Context, request interface{}) (interface{}, error) {
		return sh.ssi.DeleteJobByID(ctx.Request().Context(), request.(DeleteJobByIDRequestObject))
	}
	for _, middleware := range sh.middlewares {
		handler = middleware(handler, "DeleteJobByID")
	}

	response, err := handler(ctx, request)

	if err != nil {
		return err
	} else if validResponse, ok := response.(DeleteJobByIDResponseObject); ok {
		return validResponse.VisitDeleteJobByIDResponse(ctx.Response())
	} else if response != nil {
		return fmt.Errorf("unexpected response type: %T", response)
	}
	return nil
}

// GetJobByID operation middleware
func (sh *strictHandler) GetJobByID(ctx echo.Context, id openapi_types.UUID) error {
	var request GetJobByIDRequestObject

	request.Id = id

	handler := func(ctx echo.Context, request interface{}) (interface{}, error) {
		return sh.ssi.GetJobByID(ctx.Request().Context(), request.(GetJobByIDRequestObject))
	}
	for _, middleware := range sh.middlewares {
		handler = middleware(handler, "GetJobByID")
	}

	response, err := handler(ctx, request)

	if err != nil {
		return err
	} else if validResponse, ok := response.(GetJobByIDResponseObject); ok {
		return validResponse.VisitGetJobByIDResponse(ctx.Response())
	} else if response != nil {
		return fmt.Errorf("unexpected response type: %T", response)
	}
	return nil
}

// RetryJobByID operation middleware
func (sh *strictHandler) RetryJobByID(ctx echo.Context, id openapi_types.UUID) error {
	var request RetryJobByIDRequestObject

	request.Id = id

	var body RetryJobByIDJSONRequestBody
	if err := ctx.Bind(&body); err != nil {
		return err
	}
	request.Body = &body

	handler := func(ctx echo.Context, request interface{}) (interface{}, error) {
		return sh.ssi.RetryJobByID(ctx.Request().Context(), request.(RetryJobByIDRequestObject))
	}
	for _, middleware := range sh.middlewares {
		handler = middleware(handler, "RetryJobByID")
	}

	response, err := handler(ctx, request)

	if err != nil {
		return err
	} else if validResponse, ok := response.(RetryJobByIDResponseObject); ok {
		return validResponse.VisitRetryJobByIDResponse(ctx.Response())
	} else if response != nil {
		return fmt.Errorf("unexpected response type: %T", response)
	}
	return nil
}
