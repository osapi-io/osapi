"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6982],{14361(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var t=i(74848),r=i(28453);const s={sidebar_position:8},a="Metrics",o={id:"sidebar/features/metrics",title:"Metrics",description:"OSAPI exposes a Prometheus-compatible metrics endpoint for monitoring and",source:"@site/docs/sidebar/features/metrics.md",sourceDirName:"sidebar/features",slug:"/sidebar/features/metrics",permalink:"/osapi/sidebar/features/metrics",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"testSidebar",previous:{title:"Distributed Tracing",permalink:"/osapi/sidebar/features/distributed-tracing"},next:{title:"Overview",permalink:"/osapi/sidebar/architecture/"}},c={},d=[{value:"Endpoint",id:"endpoint",level:2},{value:"What It Exposes",id:"what-it-exposes",level:2},{value:"Integration",id:"integration",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Related",id:"related",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"metrics",children:"Metrics"})}),"\n",(0,t.jsx)(n.p,{children:"OSAPI exposes a Prometheus-compatible metrics endpoint for monitoring and\nalerting. Metrics are collected automatically by the API server and available\nfor scraping without additional configuration."}),"\n",(0,t.jsx)(n.h2,{id:"endpoint",children:"Endpoint"}),"\n",(0,t.jsxs)(n.p,{children:["The metrics endpoint is available at ",(0,t.jsx)(n.code,{children:"/metrics"})," on the API server. It returns\nmetrics in the standard Prometheus text exposition format. See\n",(0,t.jsx)(n.a,{href:"/osapi/sidebar/usage/cli/client/metrics/",children:"CLI Reference"})," for usage, or the\n",(0,t.jsx)(n.a,{href:"/category/api",children:"API Reference"})," for the REST endpoints."]}),"\n",(0,t.jsx)(n.h2,{id:"what-it-exposes",children:"What It Exposes"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"/metrics"})," endpoint exposes standard Go runtime metrics and HTTP request\nmetrics collected by the Echo framework, including:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Go runtime (goroutines, memory, GC)"}),"\n",(0,t.jsx)(n.li,{children:"HTTP request counts, durations, and response sizes by route"}),"\n",(0,t.jsx)(n.li,{children:"NATS connection metrics"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"integration",children:"Integration"}),"\n",(0,t.jsx)(n.p,{children:"Point your Prometheus instance at the OSAPI server:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# prometheus.yml\nscrape_configs:\n  - job_name: 'osapi'\n    static_configs:\n      - targets: ['localhost:8080']\n"})}),"\n",(0,t.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsx)(n.p,{children:"The metrics endpoint is always enabled and requires no configuration. It is\nunauthenticated by design so that Prometheus can scrape it without a token."}),"\n",(0,t.jsx)(n.h2,{id:"related",children:"Related"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/osapi/sidebar/usage/cli/client/metrics/",children:"CLI Reference"})," -- metrics CLI\ncommand"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/category/api",children:"API Reference"})," -- REST API documentation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/osapi/sidebar/features/health-checks",children:"Health Checks"})," -- liveness and readiness probes"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453(e,n,i){i.d(n,{R:()=>a,x:()=>o});var t=i(96540);const r={},s=t.createContext(r);function a(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);