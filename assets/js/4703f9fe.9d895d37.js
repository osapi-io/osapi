"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6319],{812(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>a,frontMatter:()=>i,metadata:()=>c,toc:()=>h});var r=s(74848),d=s(28453);const i={sidebar_position:1,sidebar_label:"Configuration"},t="Configuration",c={id:"sidebar/usage/configuration",title:"Configuration",description:"OSAPI is configured through a YAML file and optional environment variable",source:"@site/docs/sidebar/usage/configuration.md",sourceDirName:"sidebar/usage",slug:"/sidebar/usage/configuration",permalink:"/osapi/sidebar/usage/configuration",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"Configuration"},sidebar:"testSidebar",previous:{title:"Usage",permalink:"/osapi/sidebar/usage/"},next:{title:"CLI",permalink:"/osapi/sidebar/usage/cli/"}},l={},h=[{value:"Config File",id:"config-file",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Required Fields",id:"required-fields",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Server-Side Auth",id:"server-side-auth",level:3},{value:"Client-Side Auth",id:"client-side-auth",level:3},{value:"Permissions",id:"permissions",level:2},{value:"Custom Roles",id:"custom-roles",level:3},{value:"Direct Permissions",id:"direct-permissions",level:3},{value:"Namespace",id:"namespace",level:2},{value:"Full Reference",id:"full-reference",level:2},{value:"Section Reference",id:"section-reference",level:2},{value:"<code>api.client</code>",id:"apiclient",level:3},{value:"<code>api.server</code>",id:"apiserver",level:3},{value:"<code>nats.server</code>",id:"natsserver",level:3},{value:"<code>nats.stream</code>",id:"natsstream",level:3},{value:"<code>nats.kv</code>",id:"natskv",level:3},{value:"<code>nats.audit</code>",id:"natsaudit",level:3},{value:"<code>nats.dlq</code>",id:"natsdlq",level:3},{value:"<code>telemetry.tracing</code>",id:"telemetrytracing",level:3},{value:"<code>job.worker</code>",id:"jobworker",level:3}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,r.jsx)(n.p,{children:"OSAPI is configured through a YAML file and optional environment variable\noverrides."}),"\n",(0,r.jsx)(n.h2,{id:"config-file",children:"Config File"}),"\n",(0,r.jsxs)(n.p,{children:["By default OSAPI looks for ",(0,r.jsx)(n.code,{children:"/etc/osapi/osapi.yaml"}),". Override the path with the\n",(0,r.jsx)(n.code,{children:"-f"})," / ",(0,r.jsx)(n.code,{children:"--osapi-file"})," flag:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"osapi -f /path/to/osapi.yaml api server start\n"})}),"\n",(0,r.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,r.jsxs)(n.p,{children:["Every config key can be overridden with an environment variable using the\n",(0,r.jsx)(n.code,{children:"OSAPI_"})," prefix. Dots and nested keys become underscores, and the name is\nuppercased:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Config Key"}),(0,r.jsx)(n.th,{children:"Environment Variable"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"debug"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_DEBUG"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api.server.port"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_API_SERVER_PORT"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api.server.nats.host"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_API_SERVER_NATS_HOST"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api.server.nats.port"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_API_SERVER_NATS_PORT"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api.server.nats.client_name"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_API_SERVER_NATS_CLIENT_NAME"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api.server.nats.namespace"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_API_SERVER_NATS_NAMESPACE"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api.server.nats.auth.type"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_API_SERVER_NATS_AUTH_TYPE"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api.server.security.signing_key"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_API_SERVER_SECURITY_SIGNING_KEY"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api.client.security.bearer_token"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_API_CLIENT_SECURITY_BEARER_TOKEN"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.server.host"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_NATS_SERVER_HOST"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.server.port"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_NATS_SERVER_PORT"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.server.namespace"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_NATS_SERVER_NAMESPACE"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.server.auth.type"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_NATS_SERVER_AUTH_TYPE"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.stream.name"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_NATS_STREAM_NAME"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.kv.bucket"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_NATS_KV_BUCKET"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.kv.response_bucket"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_NATS_KV_RESPONSE_BUCKET"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.audit.bucket"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_NATS_AUDIT_BUCKET"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.audit.ttl"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_NATS_AUDIT_TTL"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.audit.max_bytes"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_NATS_AUDIT_MAX_BYTES"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.audit.storage"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_NATS_AUDIT_STORAGE"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.audit.replicas"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_NATS_AUDIT_REPLICAS"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"telemetry.tracing.enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_TELEMETRY_TRACING_ENABLED"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"telemetry.tracing.exporter"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_TELEMETRY_TRACING_EXPORTER"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"telemetry.tracing.otlp_endpoint"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_TELEMETRY_TRACING_OTLP_ENDPOINT"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"job.worker.nats.host"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_JOB_WORKER_NATS_HOST"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"job.worker.nats.port"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_JOB_WORKER_NATS_PORT"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"job.worker.nats.client_name"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_JOB_WORKER_NATS_CLIENT_NAME"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"job.worker.nats.namespace"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_JOB_WORKER_NATS_NAMESPACE"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"job.worker.nats.auth.type"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_JOB_WORKER_NATS_AUTH_TYPE"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"job.worker.hostname"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OSAPI_JOB_WORKER_HOSTNAME"})})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Environment variables take precedence over file values."}),"\n",(0,r.jsx)(n.h2,{id:"required-fields",children:"Required Fields"}),"\n",(0,r.jsxs)(n.p,{children:["Two fields carry a ",(0,r.jsx)(n.code,{children:"required"})," validation tag and must be set before the server\nor client will start:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Key"}),(0,r.jsx)(n.th,{children:"Purpose"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api.server.security.signing_key"})}),(0,r.jsx)(n.td,{children:"HS256 key for signing JWTs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api.client.security.bearer_token"})}),(0,r.jsx)(n.td,{children:"JWT sent with client requests"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Generate a signing key with ",(0,r.jsx)(n.code,{children:"openssl rand -hex 32"}),". Generate a bearer token with\n",(0,r.jsx)(n.code,{children:"osapi token generate"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,r.jsxs)(n.p,{children:["Each NATS connection supports pluggable authentication. Set the ",(0,r.jsx)(n.code,{children:"auth.type"}),"\nfield in the relevant section (",(0,r.jsx)(n.code,{children:"nats.server"}),", ",(0,r.jsx)(n.code,{children:"api.server.nats"}),", or\n",(0,r.jsx)(n.code,{children:"job.worker.nats"}),"):"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Extra Fields"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"none"})}),(0,r.jsx)(n.td,{children:"No authentication (default)"}),(0,r.jsx)(n.td,{children:"\u2014"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"user_pass"})}),(0,r.jsx)(n.td,{children:"Username and password"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"username"}),", ",(0,r.jsx)(n.code,{children:"password"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nkey"})}),(0,r.jsx)(n.td,{children:"NKey-based auth (server and clients)"}),(0,r.jsx)(n.td,{children:"See examples below"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"server-side-auth",children:"Server-Side Auth"}),"\n",(0,r.jsxs)(n.p,{children:["The embedded NATS server (",(0,r.jsx)(n.code,{children:"nats.server.auth"}),") accepts a list of users or nkeys:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"nats:\n  server:\n    auth:\n      type: user_pass\n      users:\n        - username: osapi\n          password: '<secret>'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"client-side-auth",children:"Client-Side Auth"}),"\n",(0,r.jsxs)(n.p,{children:["API server and worker connections (",(0,r.jsx)(n.code,{children:"api.server.nats.auth"}),",\n",(0,r.jsx)(n.code,{children:"job.worker.nats.auth"}),") authenticate as a single identity:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"api:\n  server:\n    nats:\n      auth:\n        type: user_pass\n        username: osapi\n        password: '<secret>'\n"})}),"\n",(0,r.jsx)(n.h2,{id:"permissions",children:"Permissions"}),"\n",(0,r.jsxs)(n.p,{children:["OSAPI uses fine-grained ",(0,r.jsx)(n.code,{children:"resource:verb"})," permissions for access control. Each API\nendpoint requires a specific permission. Built-in roles expand to a default set\nof permissions:"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Role"}),(0,r.jsx)(n.th,{children:"Permissions"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"admin"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"system:read"}),", ",(0,r.jsx)(n.code,{children:"network:read"}),", ",(0,r.jsx)(n.code,{children:"network:write"}),", ",(0,r.jsx)(n.code,{children:"job:read"}),", ",(0,r.jsx)(n.code,{children:"job:write"}),", ",(0,r.jsx)(n.code,{children:"health:read"}),", ",(0,r.jsx)(n.code,{children:"audit:read"}),", ",(0,r.jsx)(n.code,{children:"command:execute"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"write"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"system:read"}),", ",(0,r.jsx)(n.code,{children:"network:read"}),", ",(0,r.jsx)(n.code,{children:"network:write"}),", ",(0,r.jsx)(n.code,{children:"job:read"}),", ",(0,r.jsx)(n.code,{children:"job:write"}),", ",(0,r.jsx)(n.code,{children:"health:read"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"read"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"system:read"}),", ",(0,r.jsx)(n.code,{children:"network:read"}),", ",(0,r.jsx)(n.code,{children:"job:read"}),", ",(0,r.jsx)(n.code,{children:"health:read"})]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"custom-roles",children:"Custom Roles"}),"\n",(0,r.jsxs)(n.p,{children:["You can define custom roles in the ",(0,r.jsx)(n.code,{children:"api.server.security.roles"})," section. Custom\nroles override the default permission mapping for the same name, or define\nentirely new role names:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"api:\n  server:\n    security:\n      roles:\n        ops:\n          permissions:\n            - system:read\n            - health:read\n        netadmin:\n          permissions:\n            - network:read\n            - network:write\n            - health:read\n"})}),"\n",(0,r.jsx)(n.h3,{id:"direct-permissions",children:"Direct Permissions"}),"\n",(0,r.jsxs)(n.p,{children:["Tokens can carry a ",(0,r.jsx)(n.code,{children:"permissions"})," claim that overrides role-based expansion. When\nthe claim is present, only the listed permissions are granted regardless of the\ntoken's roles. Generate a token with direct permissions:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"osapi token generate -r admin -u user@example.com \\\n  -p system:read -p health:read\n"})}),"\n",(0,r.jsx)(n.h2,{id:"namespace",children:"Namespace"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"namespace"})," field on NATS connections prefixes all subject names and\ninfrastructure names. This allows multiple OSAPI deployments to share a single\nNATS cluster without collisions."]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Without namespace"}),(0,r.jsxs)(n.th,{children:["With ",(0,r.jsx)(n.code,{children:"namespace: osapi"})]})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"jobs.query._any"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"osapi.jobs.query._any"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"JOBS"})," (stream)"]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"osapi-JOBS"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"job-queue"})," (KV bucket)"]}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"osapi-job-queue"})})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Set the same namespace value in ",(0,r.jsx)(n.code,{children:"nats.server.namespace"}),",\n",(0,r.jsx)(n.code,{children:"api.server.nats.namespace"}),", and ",(0,r.jsx)(n.code,{children:"job.worker.nats.namespace"})," so all components\nagree on naming. An empty string disables prefixing."]}),"\n",(0,r.jsx)(n.h2,{id:"full-reference",children:"Full Reference"}),"\n",(0,r.jsxs)(n.p,{children:["Below is a complete ",(0,r.jsx)(n.code,{children:"osapi.yaml"})," with every supported field and inline comments.\nValues shown are representative defaults from the repository's config file."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# Enable verbose logging.\ndebug: true\n\napi:\n  client:\n    # Base URL the CLI client connects to.\n    url: 'http://0.0.0.0:8080'\n    security:\n      # JWT bearer token for client requests (REQUIRED).\n      # Generate with: osapi token generate\n      bearer_token: '<jwt>'\n\n  server:\n    # Port the REST API server listens on.\n    port: 8080\n    nats:\n      # NATS server hostname for the API server.\n      host: 'localhost'\n      # NATS server port for the API server.\n      port: 4222\n      # Client name sent to NATS for identification.\n      client_name: 'osapi-api'\n      # Subject namespace prefix. Must match nats.server.namespace.\n      namespace: 'osapi'\n      auth:\n        # Authentication type: \"none\", \"user_pass\", or \"nkey\".\n        type: 'none'\n    security:\n      # HS256 signing key for JWT validation (REQUIRED).\n      # Generate with: openssl rand -hex 32\n      signing_key: '<secret>'\n      cors:\n        # Origins allowed to make cross-origin requests.\n        # An empty list disables CORS headers entirely.\n        allow_origins:\n          - 'http://localhost:3001'\n          - 'https://osapi-io.github.io'\n      # Custom roles with fine-grained permissions.\n      # Permissions: system:read, network:read, network:write,\n      #              job:read, job:write, health:read, audit:read,\n      #              command:execute\n      # roles:\n      #   ops:\n      #     permissions:\n      #       - system:read\n      #       - health:read\n\nnats:\n  server:\n    # Hostname the embedded NATS server binds to.\n    host: 'localhost'\n    # Port the embedded NATS server binds to.\n    port: 4222\n    # Directory for JetStream file-based storage.\n    store_dir: '.nats/jetstream/'\n    # Subject namespace prefix for server-created infrastructure.\n    namespace: 'osapi'\n    auth:\n      # Authentication type: \"none\", \"user_pass\", or \"nkey\".\n      type: 'none'\n      # Users for user_pass auth (server-side only).\n      # users:\n      #   - username: osapi\n      #     password: '<secret>'\n      # NKeys for nkey auth (server-side only).\n      # nkeys:\n      #   - '<public-nkey>'\n\n  # \u2500\u2500 JetStream stream \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  stream:\n    # JetStream stream name for job notifications.\n    name: 'JOBS'\n    # Subject filter for the stream.\n    subjects: 'jobs.>'\n    # Maximum age of messages in the stream (Go duration).\n    max_age: '24h'\n    # Maximum number of messages retained.\n    max_msgs: 10000\n    # Storage backend: \"file\" or \"memory\".\n    storage: 'file'\n    # Number of stream replicas (1 for single-node).\n    replicas: 1\n    # Discard policy when limits are reached: \"old\" or \"new\".\n    discard: 'old'\n\n  # \u2500\u2500 KV bucket settings \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  kv:\n    # KV bucket for immutable job definitions and status events.\n    bucket: 'job-queue'\n    # KV bucket for worker result storage.\n    response_bucket: 'job-responses'\n    # TTL for KV entries (Go duration).\n    ttl: '1h'\n    # Maximum total size of the bucket in bytes.\n    max_bytes: 104857600 # 100 MiB\n    # Storage backend: \"file\" or \"memory\".\n    storage: 'file'\n    # Number of KV replicas.\n    replicas: 1\n\n  # \u2500\u2500 Audit log KV bucket \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  audit:\n    # KV bucket for audit log entries.\n    bucket: 'audit-log'\n    # TTL for audit entries (Go duration). Default 30 days.\n    ttl: '720h'\n    # Maximum total size of the audit bucket in bytes.\n    max_bytes: 52428800 # 50 MiB\n    # Storage backend: \"file\" or \"memory\".\n    storage: 'file'\n    # Number of KV replicas.\n    replicas: 1\n\n  # \u2500\u2500 Dead Letter Queue \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  dlq:\n    # Maximum age of messages in the DLQ.\n    max_age: '7d'\n    # Maximum number of messages retained.\n    max_msgs: 1000\n    # Storage backend: \"file\" or \"memory\".\n    storage: 'file'\n    # Number of DLQ replicas.\n    replicas: 1\n\ntelemetry:\n  tracing:\n    # Enable distributed tracing (default: false).\n    enabled: false\n    # Exporter type: \"stdout\" or \"otlp\".\n    # exporter: stdout\n    # gRPC endpoint for OTLP exporter (e.g., Jaeger, Tempo).\n    # otlp_endpoint: localhost:4317\n\njob:\n  worker:\n    nats:\n      # NATS server hostname for the worker.\n      host: 'localhost'\n      # NATS server port for the worker.\n      port: 4222\n      # Client name sent to NATS for identification.\n      client_name: 'osapi-job-worker'\n      # Subject namespace prefix. Must match nats.server.namespace.\n      namespace: 'osapi'\n      auth:\n        # Authentication type: \"none\", \"user_pass\", or \"nkey\".\n        type: 'none'\n    consumer:\n      # Durable consumer name.\n      name: 'jobs-worker'\n      # Maximum redelivery attempts before sending to DLQ.\n      max_deliver: 5\n      # Time to wait for an ACK before redelivering.\n      ack_wait: '2m'\n      # Maximum outstanding unacknowledged messages.\n      max_ack_pending: 1000\n      # Replay policy: \"instant\" or \"original\".\n      replay_policy: 'instant'\n      # Backoff durations between redelivery attempts.\n      back_off:\n        - '30s'\n        - '2m'\n        - '5m'\n        - '15m'\n        - '30m'\n    # Queue group for load-balanced (_any) subscriptions.\n    queue_group: 'job-workers'\n    # Worker hostname for direct routing. Defaults to the\n    # system hostname when empty.\n    hostname: ''\n    # Maximum number of concurrent jobs to process.\n    max_jobs: 10\n    # Key-value labels for label-based routing.\n    # Values can be hierarchical with dot separators.\n    # See Job System Architecture for details.\n    labels:\n      group: 'web.dev.us-east'\n"})}),"\n",(0,r.jsx)(n.h2,{id:"section-reference",children:"Section Reference"}),"\n",(0,r.jsx)(n.h3,{id:"apiclient",children:(0,r.jsx)(n.code,{children:"api.client"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Key"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"url"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Base URL the CLI client targets"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"security.bearer_token"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["JWT for client auth (",(0,r.jsx)(n.strong,{children:"required"}),")"]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"apiserver",children:(0,r.jsx)(n.code,{children:"api.server"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Key"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"port"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"Port the API server listens on"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.host"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"NATS server hostname"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.port"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"NATS server port"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.client_name"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"NATS client identification name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.namespace"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Subject namespace prefix"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.auth.type"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Auth type: ",(0,r.jsx)(n.code,{children:"none"}),", ",(0,r.jsx)(n.code,{children:"user_pass"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.auth.username"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Username for ",(0,r.jsx)(n.code,{children:"user_pass"})," auth"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.auth.password"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Password for ",(0,r.jsx)(n.code,{children:"user_pass"})," auth"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"security.signing_key"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["HS256 JWT signing key (",(0,r.jsx)(n.strong,{children:"required"}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"security.cors.allow_origins"})}),(0,r.jsx)(n.td,{children:"[]string"}),(0,r.jsx)(n.td,{children:"Allowed CORS origins"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"security.roles"})}),(0,r.jsx)(n.td,{children:"map"}),(0,r.jsx)(n.td,{children:"Custom roles with permissions lists"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"natsserver",children:(0,r.jsx)(n.code,{children:"nats.server"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Key"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"host"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Hostname the NATS server binds to"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"port"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"Port the NATS server binds to"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"store_dir"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Directory for JetStream file storage"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"namespace"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Namespace prefix for infrastructure"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"auth.type"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Auth type: ",(0,r.jsx)(n.code,{children:"none"}),", ",(0,r.jsx)(n.code,{children:"user_pass"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"auth.users"})}),(0,r.jsx)(n.td,{children:"list"}),(0,r.jsxs)(n.td,{children:["Users for ",(0,r.jsx)(n.code,{children:"user_pass"})," auth (see below)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"auth.nkeys"})}),(0,r.jsx)(n.td,{children:"list"}),(0,r.jsxs)(n.td,{children:["Public nkeys for ",(0,r.jsx)(n.code,{children:"nkey"})," auth"]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"natsstream",children:(0,r.jsx)(n.code,{children:"nats.stream"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Key"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"JetStream stream name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"subjects"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Subject filter for the stream"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_age"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Maximum message age (Go duration)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_msgs"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"Maximum number of messages"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"storage"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:'"file"'})," or ",(0,r.jsx)(n.code,{children:'"memory"'})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"replicas"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"Number of stream replicas"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"discard"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Discard policy: ",(0,r.jsx)(n.code,{children:'"old"'})," or ",(0,r.jsx)(n.code,{children:'"new"'})]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"natskv",children:(0,r.jsx)(n.code,{children:"nats.kv"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Key"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bucket"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"KV bucket for job definitions and events"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"response_bucket"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"KV bucket for worker results"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ttl"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Entry time-to-live (Go duration)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_bytes"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"Maximum bucket size in bytes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"storage"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:'"file"'})," or ",(0,r.jsx)(n.code,{children:'"memory"'})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"replicas"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"Number of KV replicas"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"natsaudit",children:(0,r.jsx)(n.code,{children:"nats.audit"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Key"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bucket"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"KV bucket for audit log entries"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ttl"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Entry time-to-live (Go duration)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_bytes"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"Maximum bucket size in bytes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"storage"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:'"file"'})," or ",(0,r.jsx)(n.code,{children:'"memory"'})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"replicas"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"Number of KV replicas"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"natsdlq",children:(0,r.jsx)(n.code,{children:"nats.dlq"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Key"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_age"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Maximum message age (Go duration)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_msgs"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"Maximum number of messages"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"storage"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:'"file"'})," or ",(0,r.jsx)(n.code,{children:'"memory"'})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"replicas"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"Number of DLQ replicas"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"telemetrytracing",children:(0,r.jsx)(n.code,{children:"telemetry.tracing"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Key"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enabled"})}),(0,r.jsx)(n.td,{children:"bool"}),(0,r.jsxs)(n.td,{children:["Enable distributed tracing (default: ",(0,r.jsx)(n.code,{children:"false"}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"exporter"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:'"stdout"'}),", ",(0,r.jsx)(n.code,{children:'"otlp"'}),", or unset (log correlation only, no span export)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"otlp_endpoint"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["gRPC endpoint for OTLP exporter (required when ",(0,r.jsx)(n.code,{children:"exporter"})," is ",(0,r.jsx)(n.code,{children:'"otlp"'}),")"]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"jobworker",children:(0,r.jsx)(n.code,{children:"job.worker"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Key"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.host"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"NATS server hostname"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.port"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"NATS server port"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.client_name"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"NATS client identification name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.namespace"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Subject namespace prefix"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.auth.type"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Auth type: ",(0,r.jsx)(n.code,{children:"none"}),", ",(0,r.jsx)(n.code,{children:"user_pass"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.auth.username"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Username for ",(0,r.jsx)(n.code,{children:"user_pass"})," auth"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"nats.auth.password"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:["Password for ",(0,r.jsx)(n.code,{children:"user_pass"})," auth"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"consumer.name"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Durable consumer name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"consumer.max_deliver"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"Max redelivery attempts before DLQ"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"consumer.ack_wait"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"ACK timeout (Go duration)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"consumer.max_ack_pending"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"Max outstanding unacknowledged msgs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"consumer.replay_policy"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:'"instant"'})," or ",(0,r.jsx)(n.code,{children:'"original"'})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"consumer.back_off"})}),(0,r.jsx)(n.td,{children:"[]string"}),(0,r.jsx)(n.td,{children:"Backoff durations between redeliveries"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"queue_group"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Queue group for load-balanced routing"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hostname"})}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:"Worker hostname (defaults to OS hostname)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_jobs"})}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:"Max concurrent jobs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"labels"})}),(0,r.jsx)(n.td,{children:"map[string]string"}),(0,r.jsx)(n.td,{children:"Key-value pairs for label-based routing"})]})]})]})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},28453(e,n,s){s.d(n,{R:()=>t,x:()=>c});var r=s(96540);const d={},i=r.createContext(d);function t(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);