"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[7891],{94025(e,n,t){t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>c});var s=t(74848),i=t(28453);const o={title:"Surface job IDs in API responses and CLI output",status:"done",created:new Date("2026-02-19T00:00:00.000Z"),updated:new Date("2026-02-20T00:00:00.000Z")},d=void 0,r={id:"sidebar/development/tasks/done/2026-02-19-quick-wins-job-id-tracing",title:"Surface job IDs in API responses and CLI output",description:"Objective",source:"@site/docs/sidebar/development/tasks/done/2026-02-19-quick-wins-job-id-tracing.md",sourceDirName:"sidebar/development/tasks/done",slug:"/sidebar/development/tasks/done/2026-02-19-quick-wins-job-id-tracing",permalink:"/osapi/sidebar/development/tasks/done/2026-02-19-quick-wins-job-id-tracing",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Surface job IDs in API responses and CLI output",status:"done",created:"2026-02-19T00:00:00.000Z",updated:"2026-02-20T00:00:00.000Z"},sidebar:"testSidebar",previous:{title:"Add server-side pagination to job list",permalink:"/osapi/sidebar/development/tasks/done/2026-02-19-fix-job-list-pagination"},next:{title:"Distributed tracing with OpenTelemetry",permalink:"/osapi/sidebar/development/tasks/done/2026-02-20-feat-distributed-tracing"}},a={},c=[{value:"Objective",id:"objective",level:2},{value:"Approach",id:"approach",level:2},{value:"Outcome",id:"outcome",level:2}];function l(e){const n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"objective",children:"Objective"}),"\n",(0,s.jsxs)(n.p,{children:["CLI commands that internally create NATS jobs (system hostname, system status,\nnetwork ping, network DNS) generate a UUID job ID, but that ID is discarded\nbefore reaching the API response or CLI output. Users have no easy way to run\n",(0,s.jsx)(n.code,{children:"osapi client job get --job-id <id>"})," to inspect the job without hunting through\nserver logs."]}),"\n",(0,s.jsx)(n.p,{children:"Surface the job ID in API responses and CLI output so users can see it and use\nit immediately."}),"\n",(0,s.jsx)(n.h2,{id:"approach",children:"Approach"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"publishAndWait"})," / ",(0,s.jsx)(n.code,{children:"publishAndCollect"})," return job ID as first value"]}),"\n",(0,s.jsxs)(n.li,{children:["All ",(0,s.jsx)(n.code,{children:"Query*"})," / ",(0,s.jsx)(n.code,{children:"Modify*"})," methods on ",(0,s.jsx)(n.code,{children:"JobClient"})," interface add ",(0,s.jsx)(n.code,{children:"string"})," (job\nID) as first return value"]}),"\n",(0,s.jsx)(n.li,{children:"Regenerate mocks from updated interface"}),"\n",(0,s.jsxs)(n.li,{children:["Add ",(0,s.jsx)(n.code,{children:"job_id"})," (format: uuid) field to OpenAPI response schemas and regenerate"]}),"\n",(0,s.jsx)(n.li,{children:"API handlers pass job ID through to the response struct"}),"\n",(0,s.jsxs)(n.li,{children:["CLI commands display job ID via ",(0,s.jsx)(n.code,{children:"printKV"})," with consistent spacing"]}),"\n",(0,s.jsxs)(n.li,{children:["Rename ",(0,s.jsx)(n.code,{children:"RequestID"}),"/",(0,s.jsx)(n.code,{children:"request_id"})," \u2192 ",(0,s.jsx)(n.code,{children:"JobID"}),"/",(0,s.jsx)(n.code,{children:"job_id"})," in job domain types,\nclient, and worker code"]}),"\n",(0,s.jsx)(n.li,{children:"Update CLI docs to show new output format with job IDs"}),"\n",(0,s.jsx)(n.li,{children:"Update all tests for new signatures"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"outcome",children:"Outcome"}),"\n",(0,s.jsxs)(n.p,{children:["Job ID is now surfaced in every API response and CLI output. Users can see the\nUUID immediately and use ",(0,s.jsx)(n.code,{children:"osapi client job get --job-id <id>"})," to inspect job\nstatus. Naming is consistent (",(0,s.jsx)(n.code,{children:"job_id"})," everywhere). All tests pass, lint clean,\ndocs updated."]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453(e,n,t){t.d(n,{R:()=>d,x:()=>r});var s=t(96540);const i={},o=s.createContext(i);function d(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);