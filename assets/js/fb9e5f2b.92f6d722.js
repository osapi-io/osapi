"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[8740],{40728(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var t=s(74848),r=s(28453);const a={sidebar_position:1},i="Node Management",o={id:"sidebar/features/node-management",title:"Node Management",description:"OSAPI can query a variety of system-level information from managed nodes. All",source:"@site/docs/sidebar/features/node-management.md",sourceDirName:"sidebar/features",slug:"/sidebar/features/node-management",permalink:"/osapi/sidebar/features/node-management",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"testSidebar",previous:{title:"Features",permalink:"/osapi/category/features"},next:{title:"Network Management",permalink:"/osapi/sidebar/features/network-management"}},d={},l=[{value:"Agent vs. Node",id:"agent-vs-node",level:2},{value:"What It Manages",id:"what-it-manages",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Permissions",id:"permissions",level:2},{value:"Related",id:"related",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"node-management",children:"Node Management"})}),"\n",(0,t.jsxs)(n.p,{children:["OSAPI can query a variety of system-level information from managed nodes. All\nnode operations are read-only today and run through the\n",(0,t.jsx)(n.a,{href:"/osapi/sidebar/features/job-system",children:"job system"}),", so the API server never needs direct access to the\nhost."]}),"\n",(0,t.jsx)(n.h2,{id:"agent-vs-node",children:"Agent vs. Node"}),"\n",(0,t.jsx)(n.p,{children:"OSAPI separates agent fleet discovery from node system queries:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Agent"})," commands (",(0,t.jsx)(n.code,{children:"agent list"}),", ",(0,t.jsx)(n.code,{children:"agent get"}),") read directly from the NATS KV\nheartbeat registry. They show which agents are online, their labels, and\nlightweight metrics from the last heartbeat. No jobs are created."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Node"})," commands (",(0,t.jsx)(n.code,{children:"node hostname"}),", ",(0,t.jsx)(n.code,{children:"node status"}),") dispatch jobs to agents\nthat execute system commands and return detailed results (disk usage, full\nmemory breakdown, etc.)."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"what-it-manages",children:"What It Manages"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Resource"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Hostname"}),(0,t.jsx)(n.td,{children:"System hostname"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Status"}),(0,t.jsx)(n.td,{children:"Uptime, OS name and version, kernel, platform info"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Disk"}),(0,t.jsx)(n.td,{children:"Per-mount usage (total, used, free, percent)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Memory"}),(0,t.jsx)(n.td,{children:"RAM and swap usage (total, used, free, percent)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Load"}),(0,t.jsx)(n.td,{children:"1-, 5-, and 15-minute load averages"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,t.jsx)(n.p,{children:"Node queries are submitted as jobs. The CLI posts a job to the API server, the\nAPI server publishes it to NATS, an agent picks it up and reads the requested\nsystem information, then writes the result back to NATS KV. The CLI polls for\nthe result and displays it."}),"\n",(0,t.jsxs)(n.p,{children:["Network and command operations are also nested under the node \u2014 see\n",(0,t.jsx)(n.a,{href:"/osapi/sidebar/features/network-management",children:"Network Management"})," and\n",(0,t.jsx)(n.a,{href:"/osapi/sidebar/features/command-execution",children:"Command Execution"})," for those domains."]}),"\n",(0,t.jsxs)(n.p,{children:["You can target a specific host, broadcast to all hosts, or route by label. See\n",(0,t.jsx)(n.a,{href:"/osapi/sidebar/usage/cli/client/node/",children:"Node CLI Reference"})," for job-based commands\nand ",(0,t.jsx)(n.a,{href:"/osapi/sidebar/usage/cli/client/agent/",children:"Agent CLI Reference"})," for\nregistry-based fleet discovery, or the\n",(0,t.jsx)(n.a,{href:"/gen/api/node-management-api-node-operations",children:"API Reference"})," for the REST\nendpoints."]}),"\n",(0,t.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["Node management uses the general job infrastructure. No domain-specific\nconfiguration is required. See ",(0,t.jsx)(n.a,{href:"/osapi/sidebar/usage/configuration",children:"Configuration"})," for\nNATS, agent, and authentication settings."]}),"\n",(0,t.jsx)(n.h2,{id:"permissions",children:"Permissions"}),"\n",(0,t.jsxs)(n.p,{children:["Node job endpoints require the ",(0,t.jsx)(n.code,{children:"node:read"})," permission. Agent fleet discovery\nendpoints require the ",(0,t.jsx)(n.code,{children:"agent:read"})," permission. The built-in ",(0,t.jsx)(n.code,{children:"admin"}),", ",(0,t.jsx)(n.code,{children:"write"}),",\nand ",(0,t.jsx)(n.code,{children:"read"})," roles all include both permissions."]}),"\n",(0,t.jsx)(n.h2,{id:"related",children:"Related"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/osapi/sidebar/usage/cli/client/agent/",children:"Agent CLI Reference"})," -- agent fleet\ncommands"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/osapi/sidebar/usage/cli/client/node/",children:"Node CLI Reference"})," -- node job commands"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/gen/api/node-management-api-node-operations",children:"API Reference"})," -- REST API\ndocumentation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/osapi/sidebar/features/job-system",children:"Job System"})," -- how async job processing works"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/osapi/sidebar/architecture/",children:"Architecture"})," -- system design overview"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453(e,n,s){s.d(n,{R:()=>i,x:()=>o});var t=s(96540);const r={},a=t.createContext(r);function i(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);