"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[9424],{68716(e,r,n){n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>t,default:()=>j,frontMatter:()=>i,metadata:()=>c,toc:()=>o});var s=n(74848),d=n(28453);const i={sidebar_position:6},t="Configuration",c={id:"sidebar/configuration",title:"Configuration",description:"OSAPI is configured through a YAML file and optional environment variable",source:"@site/docs/sidebar/configuration.md",sourceDirName:"sidebar",slug:"/sidebar/configuration",permalink:"/osapi/sidebar/configuration",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"testSidebar",previous:{title:"Testing",permalink:"/osapi/sidebar/testing"},next:{title:"Contributing",permalink:"/osapi/sidebar/contributing"}},l={},o=[{value:"Config File",id:"config-file",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Required Fields",id:"required-fields",level:2},{value:"Full Reference",id:"full-reference",level:2},{value:"Section Reference",id:"section-reference",level:2},{value:"<code>api.client</code>",id:"apiclient",level:3},{value:"<code>api.server</code>",id:"apiserver",level:3},{value:"<code>nats.server</code>",id:"natsserver",level:3},{value:"<code>telemetry.tracing</code>",id:"telemetrytracing",level:3},{value:"<code>job</code> (top-level)",id:"job-top-level",level:3},{value:"<code>job.stream</code>",id:"jobstream",level:3},{value:"<code>job.consumer</code>",id:"jobconsumer",level:3},{value:"<code>job.kv</code>",id:"jobkv",level:3},{value:"<code>job.dlq</code>",id:"jobdlq",level:3},{value:"<code>job.worker</code>",id:"jobworker",level:3}];function h(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,s.jsx)(r.p,{children:"OSAPI is configured through a YAML file and optional environment variable\noverrides."}),"\n",(0,s.jsx)(r.h2,{id:"config-file",children:"Config File"}),"\n",(0,s.jsxs)(r.p,{children:["By default OSAPI looks for ",(0,s.jsx)(r.code,{children:"osapi.yaml"})," in the current working directory.\nOverride the path with the ",(0,s.jsx)(r.code,{children:"-f"})," / ",(0,s.jsx)(r.code,{children:"--osapi-file"})," flag:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"osapi --osapi-file /etc/osapi/osapi.yaml api server start\n"})}),"\n",(0,s.jsx)(r.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,s.jsxs)(r.p,{children:["Every config key can be overridden with an environment variable using the\n",(0,s.jsx)(r.code,{children:"OSAPI_"})," prefix. Dots and nested keys become underscores, and the name is\nuppercased:"]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Config Key"}),(0,s.jsx)(r.th,{children:"Environment Variable"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"debug"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"OSAPI_DEBUG"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"api.server.port"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"OSAPI_API_SERVER_PORT"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"api.server.nats.host"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"OSAPI_API_SERVER_NATS_HOST"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"api.server.nats.port"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"OSAPI_API_SERVER_NATS_PORT"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"api.server.nats.client_name"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"OSAPI_API_SERVER_NATS_CLIENT_NAME"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"api.server.security.signing_key"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"OSAPI_API_SERVER_SECURITY_SIGNING_KEY"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"api.client.security.bearer_token"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"OSAPI_API_CLIENT_SECURITY_BEARER_TOKEN"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"nats.server.host"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"OSAPI_NATS_SERVER_HOST"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"telemetry.tracing.enabled"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"OSAPI_TELEMETRY_TRACING_ENABLED"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"telemetry.tracing.exporter"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"OSAPI_TELEMETRY_TRACING_EXPORTER"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"telemetry.tracing.otlp_endpoint"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"OSAPI_TELEMETRY_TRACING_OTLP_ENDPOINT"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"job.worker.nats.host"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"OSAPI_JOB_WORKER_NATS_HOST"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"job.worker.nats.port"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"OSAPI_JOB_WORKER_NATS_PORT"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"job.worker.nats.client_name"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"OSAPI_JOB_WORKER_NATS_CLIENT_NAME"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"job.worker.hostname"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"OSAPI_JOB_WORKER_HOSTNAME"})})]})]})]}),"\n",(0,s.jsx)(r.p,{children:"Environment variables take precedence over file values."}),"\n",(0,s.jsx)(r.h2,{id:"required-fields",children:"Required Fields"}),"\n",(0,s.jsxs)(r.p,{children:["Two fields carry a ",(0,s.jsx)(r.code,{children:"required"})," validation tag and must be set before the server\nor client will start:"]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Key"}),(0,s.jsx)(r.th,{children:"Purpose"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"api.server.security.signing_key"})}),(0,s.jsx)(r.td,{children:"HS256 key for signing JWTs"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"api.client.security.bearer_token"})}),(0,s.jsx)(r.td,{children:"JWT sent with client requests"})]})]})]}),"\n",(0,s.jsxs)(r.p,{children:["Generate a signing key with ",(0,s.jsx)(r.code,{children:"openssl rand -hex 32"}),". Generate a bearer token with\n",(0,s.jsx)(r.code,{children:"osapi token generate"}),"."]}),"\n",(0,s.jsx)(r.h2,{id:"full-reference",children:"Full Reference"}),"\n",(0,s.jsxs)(r.p,{children:["Below is a complete ",(0,s.jsx)(r.code,{children:"osapi.yaml"})," with every supported field and inline comments.\nValues shown are representative defaults from the repository's config file."]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-yaml",children:"# Enable verbose logging.\ndebug: true\n\napi:\n  client:\n    # Base URL the CLI client connects to.\n    url: 'http://0.0.0.0:8080'\n    security:\n      # JWT bearer token for client requests (REQUIRED).\n      # Generate with: osapi token generate\n      bearer_token: '<jwt>'\n\n  server:\n    # Port the REST API server listens on.\n    port: 8080\n    nats:\n      # NATS server hostname for the API server.\n      host: 'localhost'\n      # NATS server port for the API server.\n      port: 4222\n      # Client name sent to NATS for identification.\n      client_name: 'osapi-api'\n    security:\n      # HS256 signing key for JWT validation (REQUIRED).\n      # Generate with: openssl rand -hex 32\n      signing_key: '<secret>'\n      cors:\n        # Origins allowed to make cross-origin requests.\n        # An empty list disables CORS headers entirely.\n        allow_origins:\n          - 'http://localhost:3001'\n          - 'https://osapi-io.github.io'\n\nnats:\n  server:\n    # Hostname the embedded NATS server binds to.\n    host: 'localhost'\n    # Port the embedded NATS server binds to.\n    port: 4222\n    # Directory for JetStream file-based storage.\n    store_dir: '.nats/jetstream/'\n\ntelemetry:\n  tracing:\n    # Enable distributed tracing (default: false).\n    enabled: false\n    # Exporter type: \"stdout\" or \"otlp\".\n    # exporter: stdout\n    # gRPC endpoint for OTLP exporter (e.g., Jaeger, Tempo).\n    # otlp_endpoint: localhost:4317\n\njob:\n  # \u2500\u2500 Shared infrastructure names \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  # JetStream stream name for job notifications.\n  stream_name: 'JOBS'\n  # Subject filter for the JOBS stream.\n  stream_subjects: 'jobs.>'\n  # KV bucket for immutable job definitions and status events.\n  kv_bucket: 'job-queue'\n  # KV bucket for worker result storage.\n  kv_response_bucket: 'job-responses'\n  # Durable consumer name.\n  consumer_name: 'jobs-worker'\n\n  # \u2500\u2500 Stream settings \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  stream:\n    # Maximum age of messages in the stream (Go duration).\n    max_age: '24h'\n    # Maximum number of messages retained.\n    max_msgs: 10000\n    # Storage backend: \"file\" or \"memory\".\n    storage: 'file'\n    # Number of stream replicas (1 for single-node).\n    replicas: 1\n    # Discard policy when limits are reached: \"old\" or \"new\".\n    discard: 'old'\n\n  # \u2500\u2500 Consumer settings \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  consumer:\n    # Maximum redelivery attempts before sending to DLQ.\n    max_deliver: 5\n    # Time to wait for an ACK before redelivering.\n    ack_wait: '2m'\n    # Maximum outstanding unacknowledged messages.\n    max_ack_pending: 1000\n    # Replay policy: \"instant\" or \"original\".\n    replay_policy: 'instant'\n    # Backoff durations between redelivery attempts.\n    back_off:\n      - '30s'\n      - '2m'\n      - '5m'\n      - '15m'\n      - '30m'\n\n  # \u2500\u2500 KV bucket settings \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  kv:\n    # TTL for KV entries (Go duration).\n    ttl: '1h'\n    # Maximum total size of the bucket in bytes.\n    max_bytes: 104857600 # 100 MiB\n    # Storage backend: \"file\" or \"memory\".\n    storage: 'file'\n    # Number of KV replicas.\n    replicas: 1\n\n  # \u2500\u2500 Dead Letter Queue settings \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  dlq:\n    # Maximum age of messages in the DLQ.\n    max_age: '7d'\n    # Maximum number of messages retained.\n    max_msgs: 1000\n    # Storage backend: \"file\" or \"memory\".\n    storage: 'file'\n    # Number of DLQ replicas.\n    replicas: 1\n\n  # \u2500\u2500 Job worker \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n  worker:\n    nats:\n      # NATS server hostname for the worker.\n      host: 'localhost'\n      # NATS server port for the worker.\n      port: 4222\n      # Client name sent to NATS for identification.\n      client_name: 'osapi-job-worker'\n    # Queue group for load-balanced (_any) subscriptions.\n    queue_group: 'job-workers'\n    # Worker hostname for direct routing. Defaults to the\n    # system hostname when empty.\n    hostname: ''\n    # Maximum number of concurrent jobs to process.\n    max_jobs: 10\n    # Key-value labels for label-based routing.\n    # Values can be hierarchical with dot separators.\n    # See Job System Architecture for details.\n    labels:\n      group: 'web.dev.us-east'\n"})}),"\n",(0,s.jsx)(r.h2,{id:"section-reference",children:"Section Reference"}),"\n",(0,s.jsx)(r.h3,{id:"apiclient",children:(0,s.jsx)(r.code,{children:"api.client"})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Key"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"url"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"Base URL the CLI client targets"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"security.bearer_token"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsxs)(r.td,{children:["JWT for client auth (",(0,s.jsx)(r.strong,{children:"required"}),")"]})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"apiserver",children:(0,s.jsx)(r.code,{children:"api.server"})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Key"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"port"})}),(0,s.jsx)(r.td,{children:"int"}),(0,s.jsx)(r.td,{children:"Port the API server listens on"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"nats.host"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"NATS server hostname"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"nats.port"})}),(0,s.jsx)(r.td,{children:"int"}),(0,s.jsx)(r.td,{children:"NATS server port"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"nats.client_name"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"NATS client identification name"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"security.signing_key"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsxs)(r.td,{children:["HS256 JWT signing key (",(0,s.jsx)(r.strong,{children:"required"}),")"]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"security.cors.allow_origins"})}),(0,s.jsx)(r.td,{children:"[]string"}),(0,s.jsx)(r.td,{children:"Allowed CORS origins"})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"natsserver",children:(0,s.jsx)(r.code,{children:"nats.server"})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Key"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"host"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"Hostname the NATS server binds to"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"port"})}),(0,s.jsx)(r.td,{children:"int"}),(0,s.jsx)(r.td,{children:"Port the NATS server binds to"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"store_dir"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"Directory for JetStream file storage"})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"telemetrytracing",children:(0,s.jsx)(r.code,{children:"telemetry.tracing"})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Key"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"enabled"})}),(0,s.jsx)(r.td,{children:"bool"}),(0,s.jsxs)(r.td,{children:["Enable distributed tracing (default: ",(0,s.jsx)(r.code,{children:"false"}),")"]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"exporter"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsxs)(r.td,{children:["Exporter type: ",(0,s.jsx)(r.code,{children:'"stdout"'})," or ",(0,s.jsx)(r.code,{children:'"otlp"'})]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"otlp_endpoint"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"gRPC endpoint for OTLP exporter"})]})]})]}),"\n",(0,s.jsxs)(r.h3,{id:"job-top-level",children:[(0,s.jsx)(r.code,{children:"job"})," (top-level)"]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Key"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"stream_name"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"JetStream stream name"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"stream_subjects"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"Subject filter for the stream"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"kv_bucket"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"KV bucket for job definitions and events"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"kv_response_bucket"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"KV bucket for worker results"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"consumer_name"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"Durable consumer name"})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"jobstream",children:(0,s.jsx)(r.code,{children:"job.stream"})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Key"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"max_age"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"Maximum message age (Go duration)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"max_msgs"})}),(0,s.jsx)(r.td,{children:"int"}),(0,s.jsx)(r.td,{children:"Maximum number of messages"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"storage"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:'"file"'})," or ",(0,s.jsx)(r.code,{children:'"memory"'})]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"replicas"})}),(0,s.jsx)(r.td,{children:"int"}),(0,s.jsx)(r.td,{children:"Number of stream replicas"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"discard"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsxs)(r.td,{children:["Discard policy: ",(0,s.jsx)(r.code,{children:'"old"'})," or ",(0,s.jsx)(r.code,{children:'"new"'})]})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"jobconsumer",children:(0,s.jsx)(r.code,{children:"job.consumer"})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Key"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"max_deliver"})}),(0,s.jsx)(r.td,{children:"int"}),(0,s.jsx)(r.td,{children:"Max redelivery attempts before DLQ"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"ack_wait"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"ACK timeout (Go duration)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"max_ack_pending"})}),(0,s.jsx)(r.td,{children:"int"}),(0,s.jsx)(r.td,{children:"Max outstanding unacknowledged msgs"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"replay_policy"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:'"instant"'})," or ",(0,s.jsx)(r.code,{children:'"original"'})]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"back_off"})}),(0,s.jsx)(r.td,{children:"[]string"}),(0,s.jsx)(r.td,{children:"Backoff durations between redeliveries"})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"jobkv",children:(0,s.jsx)(r.code,{children:"job.kv"})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Key"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"ttl"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"Entry time-to-live (Go duration)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"max_bytes"})}),(0,s.jsx)(r.td,{children:"int"}),(0,s.jsx)(r.td,{children:"Maximum bucket size in bytes"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"storage"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:'"file"'})," or ",(0,s.jsx)(r.code,{children:'"memory"'})]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"replicas"})}),(0,s.jsx)(r.td,{children:"int"}),(0,s.jsx)(r.td,{children:"Number of KV replicas"})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"jobdlq",children:(0,s.jsx)(r.code,{children:"job.dlq"})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Key"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"max_age"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"Maximum message age (Go duration)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"max_msgs"})}),(0,s.jsx)(r.td,{children:"int"}),(0,s.jsx)(r.td,{children:"Maximum number of messages"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"storage"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:'"file"'})," or ",(0,s.jsx)(r.code,{children:'"memory"'})]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"replicas"})}),(0,s.jsx)(r.td,{children:"int"}),(0,s.jsx)(r.td,{children:"Number of DLQ replicas"})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"jobworker",children:(0,s.jsx)(r.code,{children:"job.worker"})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Key"}),(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"nats.host"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"NATS server hostname"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"nats.port"})}),(0,s.jsx)(r.td,{children:"int"}),(0,s.jsx)(r.td,{children:"NATS server port"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"nats.client_name"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"NATS client identification name"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"queue_group"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"Queue group for load-balanced routing"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"hostname"})}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:"Worker hostname (defaults to OS hostname)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"max_jobs"})}),(0,s.jsx)(r.td,{children:"int"}),(0,s.jsx)(r.td,{children:"Max concurrent jobs"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"labels"})}),(0,s.jsx)(r.td,{children:"map[string]string"}),(0,s.jsx)(r.td,{children:"Key-value pairs for label-based routing"})]})]})]})]})}function j(e={}){const{wrapper:r}={...(0,d.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453(e,r,n){n.d(r,{R:()=>t,x:()=>c});var s=n(96540);const d={},i=s.createContext(d);function t(e){const r=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);