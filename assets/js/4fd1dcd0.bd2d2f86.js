"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[9779],{91781(e,t,n){n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var r=n(74848),i=n(28453);const s={},o="Export",a={id:"sidebar/usage/cli/client/audit/export",title:"Export",description:"Export all audit log entries to a file for long-term retention. Fetches all",source:"@site/docs/sidebar/usage/cli/client/audit/export.md",sourceDirName:"sidebar/usage/cli/client/audit",slug:"/sidebar/usage/cli/client/audit/export",permalink:"/osapi/sidebar/usage/cli/client/audit/export",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"testSidebar",previous:{title:"Audit",permalink:"/osapi/sidebar/usage/cli/client/audit/"},next:{title:"Get",permalink:"/osapi/sidebar/usage/cli/client/audit/get"}},d={},l=[{value:"Options",id:"options",level:2},{value:"Output format",id:"output-format",level:2}];function c(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"export",children:"Export"})}),"\n",(0,r.jsxs)(t.p,{children:["Export all audit log entries to a file for long-term retention. Fetches all\nentries via the REST API export endpoint and writes each entry as a JSON line\n(JSONL format). Requires ",(0,r.jsx)(t.code,{children:"audit:read"})," permission (admin role by default)."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"$ osapi client audit export --output audit.jsonl\n\n  Exported: 142    Total: 142\n  Output: audit.jsonl\n"})}),"\n",(0,r.jsx)(t.h2,{id:"options",children:"Options"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Flag"}),(0,r.jsx)(t.th,{children:"Default"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"--output"})}),(0,r.jsx)(t.td,{children:"\u2014"}),(0,r.jsxs)(t.td,{children:["Output file path (",(0,r.jsx)(t.strong,{children:"required"}),")"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"--type"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"file"})}),(0,r.jsx)(t.td,{children:"Export backend type"})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"output-format",children:"Output format"}),"\n",(0,r.jsx)(t.p,{children:"The file exporter writes one JSON object per line (JSONL). Each line is a\ncomplete audit entry:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsonl",children:'{"id":"550e8400-e29b-41d4-a716-446655440000","timestamp":"2026-02-21T10:30:00Z","user":"ops@example.com","roles":["admin"],"method":"GET","path":"/node/hostname","source_ip":"127.0.0.1","response_code":200,"duration_ms":42}\n{"id":"661f1234-e29b-41d4-a716-446655440111","timestamp":"2026-02-21T10:29:55Z","user":"ops@example.com","roles":["admin"],"method":"POST","path":"/job","source_ip":"127.0.0.1","response_code":201,"duration_ms":15}\n'})}),"\n",(0,r.jsx)(t.p,{children:"JSONL is easy to process with standard tools:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'# Count entries\nwc -l audit.jsonl\n\n# Filter by user\ngrep \'"user":"ops@example.com"\' audit.jsonl\n\n# Pretty-print with jq\ncat audit.jsonl | jq .\n'})})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453(e,t,n){n.d(t,{R:()=>o,x:()=>a});var r=n(96540);const i={},s=r.createContext(i);function o(e){const t=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);